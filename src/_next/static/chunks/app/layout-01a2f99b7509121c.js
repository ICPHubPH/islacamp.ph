(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{1428:function(t,e,a){Promise.resolve().then(a.t.bind(a,2553,23)),Promise.resolve().then(a.t.bind(a,1998,23)),Promise.resolve().then(a.bind(a,5433)),Promise.resolve().then(a.bind(a,7960)),Promise.resolve().then(a.bind(a,9174)),Promise.resolve().then(a.t.bind(a,1359,23))},5433:function(t,e,a){"use strict";a.r(e),a.d(e,{Toaster:function(){return N}});var r=a(7437),o=a(2265),n=a(2294),d=a(9213),i=a(1936),s=a(7042),u=a(4769);function c(){for(var t=arguments.length,e=Array(t),a=0;a<t;a++)e[a]=arguments[a];return(0,u.m6)((0,s.W)(e))}let l=n.zt,x=o.forwardRef((t,e)=>{let{className:a,...o}=t;return(0,r.jsx)(n.l_,{ref:e,className:c("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",a),...o})});x.displayName=n.l_.displayName;let T=(0,d.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border border-slate-200 p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full dark:border-slate-800",{variants:{variant:{default:"border bg-white text-slate-950 dark:bg-slate-950 dark:text-slate-50",destructive:"destructive group border-red-500 bg-red-500 text-slate-50 dark:border-red-900 dark:bg-red-900 dark:text-slate-50"}},defaultVariants:{variant:"default"}}),p=o.forwardRef((t,e)=>{let{className:a,variant:o,...d}=t;return(0,r.jsx)(n.fC,{ref:e,className:c(T({variant:o}),a),...d})});p.displayName=n.fC.displayName,o.forwardRef((t,e)=>{let{className:a,...o}=t;return(0,r.jsx)(n.aU,{ref:e,className:c("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-slate-200 bg-transparent px-3 text-sm font-medium ring-offset-white transition-colors hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-slate-100/40 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-slate-50 group-[.destructive]:focus:ring-red-500 dark:border-slate-800 dark:ring-offset-slate-950 dark:hover:bg-slate-800 dark:focus:ring-slate-300 dark:group-[.destructive]:border-slate-800/40 dark:group-[.destructive]:hover:border-red-900/30 dark:group-[.destructive]:hover:bg-red-900 dark:group-[.destructive]:hover:text-slate-50 dark:group-[.destructive]:focus:ring-red-900",a),...o})}).displayName=n.aU.displayName;let f=o.forwardRef((t,e)=>{let{className:a,...o}=t;return(0,r.jsx)(n.x8,{ref:e,className:c("absolute right-2 top-2 rounded-md p-1 text-slate-950/50 opacity-0 transition-opacity hover:text-slate-950 focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 dark:text-slate-50/50 dark:hover:text-slate-50",a),"toast-close":"",...o,children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})});f.displayName=n.x8.displayName;let h=o.forwardRef((t,e)=>{let{className:a,...o}=t;return(0,r.jsx)(n.Dx,{ref:e,className:c("text-sm font-semibold",a),...o})});h.displayName=n.Dx.displayName;let m=o.forwardRef((t,e)=>{let{className:a,...o}=t;return(0,r.jsx)(n.dk,{ref:e,className:c("text-sm opacity-90",a),...o})});m.displayName=n.dk.displayName;var g=a(7147);function N(){let{toasts:t}=(0,g.pm)();return(0,r.jsxs)(l,{children:[t.map(function(t){let{id:e,title:a,description:o,action:n,...d}=t;return(0,r.jsxs)(p,{...d,children:[(0,r.jsxs)("div",{className:"grid gap-1",children:[a&&(0,r.jsx)(h,{children:a}),o&&(0,r.jsx)(m,{children:o})]}),n,(0,r.jsx)(f,{})]},e)}),(0,r.jsx)(x,{})]})}},7147:function(t,e,a){"use strict";a.d(e,{Am:function(){return l},pm:function(){return x}});var r=a(2265);let o=0,n=new Map,d=t=>{if(n.has(t))return;let e=setTimeout(()=>{n.delete(t),c({type:"REMOVE_TOAST",toastId:t})},1e6);n.set(t,e)},i=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,1)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{let{toastId:a}=e;return a?d(a):t.toasts.forEach(t=>{d(t.id)}),{...t,toasts:t.toasts.map(t=>t.id===a||void 0===a?{...t,open:!1}:t)}}case"REMOVE_TOAST":if(void 0===e.toastId)return{...t,toasts:[]};return{...t,toasts:t.toasts.filter(t=>t.id!==e.toastId)}}},s=[],u={toasts:[]};function c(t){u=i(u,t),s.forEach(t=>{t(u)})}function l(t){let{...e}=t,a=(o=(o+1)%Number.MAX_VALUE).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...e,id:a,open:!0,onOpenChange:t=>{t||r()}}}),{id:a,dismiss:r,update:t=>c({type:"UPDATE_TOAST",toast:{...t,id:a}})}}function x(){let[t,e]=r.useState(u);return r.useEffect(()=>(s.push(e),()=>{let t=s.indexOf(e);t>-1&&s.splice(t,1)}),[t]),{...t,toast:l,dismiss:t=>c({type:"DISMISS_TOAST",toastId:t})}}},7960:function(t,e,a){"use strict";a.r(e),a.d(e,{RoleEnum:function(){return o},StateContext:function(){return f},StateProvider:function(){return m},useStateContext:function(){return h}});var r,o,n=a(7437),d=a(2265),i=a(1928),s=a(8809);let u=t=>{let{IDL:e}=t;return e.Service({createArticle:e.Func([e.Record({id:e.Text,categoryId:e.Text,status:e.Bool,title:e.Text,content:e.Text,date:e.Nat64,description:e.Text})],[e.Variant({Ok:e.Record({id:e.Text,categoryId:e.Text,status:e.Bool,title:e.Text,content:e.Text,authorId:e.Text,date:e.Nat64,createdAt:e.Nat64,authorName:e.Text,description:e.Text,updatedAt:e.Nat64,editorId:e.Text}),Err:e.Variant({NotFound:e.Text,Unauthorized:e.Text,InternalError:e.Text,Forbidden:e.Text,BadRequest:e.Text})})],[]),createCategory:e.Func([e.Text],[e.Variant({Ok:e.Record({id:e.Text,name:e.Text}),Err:e.Variant({NotFound:e.Text,Unauthorized:e.Text,InternalError:e.Text,Forbidden:e.Text,BadRequest:e.Text})})],[]),createUser:e.Func([e.Text],[e.Variant({Ok:e.Record({id:e.Principal,status:e.Bool,name:e.Text,createdAt:e.Nat64,role:e.Text,updatedAt:e.Nat64}),Err:e.Variant({NotFound:e.Text,Unauthorized:e.Text,InternalError:e.Text,Forbidden:e.Text,BadRequest:e.Text})})],[]),getActiveArticleById:e.Func([e.Text],[e.Variant({Ok:e.Record({id:e.Text,categoryId:e.Text,status:e.Bool,title:e.Text,content:e.Text,authorId:e.Text,date:e.Nat64,createdAt:e.Nat64,authorName:e.Text,description:e.Text,updatedAt:e.Nat64,editorId:e.Text}),Err:e.Variant({NotFound:e.Text,Unauthorized:e.Text,InternalError:e.Text,Forbidden:e.Text,BadRequest:e.Text})})],["query"]),getActiveArticles:e.Func([],[e.Variant({Ok:e.Vec(e.Record({id:e.Text,categoryId:e.Text,status:e.Bool,title:e.Text,content:e.Text,authorId:e.Text,date:e.Nat64,createdAt:e.Nat64,authorName:e.Text,description:e.Text,updatedAt:e.Nat64,editorId:e.Text})),Err:e.Variant({NotFound:e.Text,Unauthorized:e.Text,InternalError:e.Text,Forbidden:e.Text,BadRequest:e.Text})})],["query"]),getActiveArticlesByCategory:e.Func([e.Text],[e.Variant({Ok:e.Vec(e.Record({id:e.Text,categoryId:e.Text,status:e.Bool,title:e.Text,content:e.Text,authorId:e.Text,date:e.Nat64,createdAt:e.Nat64,authorName:e.Text,description:e.Text,updatedAt:e.Nat64,editorId:e.Text})),Err:e.Variant({NotFound:e.Text,Unauthorized:e.Text,InternalError:e.Text,Forbidden:e.Text,BadRequest:e.Text})})],["query"]),getAllArticles:e.Func([],[e.Variant({Ok:e.Vec(e.Record({id:e.Text,categoryId:e.Text,status:e.Bool,title:e.Text,content:e.Text,authorId:e.Text,date:e.Nat64,createdAt:e.Nat64,authorName:e.Text,description:e.Text,updatedAt:e.Nat64,editorId:e.Text})),Err:e.Variant({NotFound:e.Text,Unauthorized:e.Text,InternalError:e.Text,Forbidden:e.Text,BadRequest:e.Text})})],["query"]),getAllCategories:e.Func([],[e.Variant({Ok:e.Vec(e.Record({id:e.Text,name:e.Text})),Err:e.Variant({NotFound:e.Text,Unauthorized:e.Text,InternalError:e.Text,Forbidden:e.Text,BadRequest:e.Text})})],["query"]),getArticlesEditedByEditor:e.Func([],[e.Variant({Ok:e.Vec(e.Record({id:e.Text,categoryId:e.Text,status:e.Bool,title:e.Text,content:e.Text,authorId:e.Text,date:e.Nat64,createdAt:e.Nat64,authorName:e.Text,description:e.Text,updatedAt:e.Nat64,editorId:e.Text})),Err:e.Variant({NotFound:e.Text,Unauthorized:e.Text,InternalError:e.Text,Forbidden:e.Text,BadRequest:e.Text})})],["query"]),getArticlesOfAuthor:e.Func([],[e.Variant({Ok:e.Vec(e.Record({id:e.Text,categoryId:e.Text,status:e.Bool,title:e.Text,content:e.Text,authorId:e.Text,date:e.Nat64,createdAt:e.Nat64,authorName:e.Text,description:e.Text,updatedAt:e.Nat64,editorId:e.Text})),Err:e.Variant({NotFound:e.Text,Unauthorized:e.Text,InternalError:e.Text,Forbidden:e.Text,BadRequest:e.Text})})],["query"]),getInactiveArticles:e.Func([],[e.Variant({Ok:e.Vec(e.Record({id:e.Text,categoryId:e.Text,status:e.Bool,title:e.Text,content:e.Text,authorId:e.Text,date:e.Nat64,createdAt:e.Nat64,authorName:e.Text,description:e.Text,updatedAt:e.Nat64,editorId:e.Text})),Err:e.Variant({NotFound:e.Text,Unauthorized:e.Text,InternalError:e.Text,Forbidden:e.Text,BadRequest:e.Text})})],["query"]),getMe:e.Func([],[e.Variant({Ok:e.Record({id:e.Principal,status:e.Bool,name:e.Text,createdAt:e.Nat64,role:e.Text,updatedAt:e.Nat64}),Err:e.Variant({NotFound:e.Text,Unauthorized:e.Text,InternalError:e.Text,Forbidden:e.Text,BadRequest:e.Text})})],["query"]),getUsers:e.Func([],[e.Variant({Ok:e.Vec(e.Record({id:e.Principal,status:e.Bool,name:e.Text,createdAt:e.Nat64,role:e.Text,updatedAt:e.Nat64})),Err:e.Variant({NotFound:e.Text,Unauthorized:e.Text,InternalError:e.Text,Forbidden:e.Text,BadRequest:e.Text})})],["query"]),initOwner:e.Func([],[e.Variant({Ok:e.Principal,Err:e.Variant({NotFound:e.Text,Unauthorized:e.Text,InternalError:e.Text,Forbidden:e.Text,BadRequest:e.Text})})],[]),updateArticle:e.Func([e.Record({id:e.Text,categoryId:e.Text,status:e.Bool,title:e.Text,content:e.Text,date:e.Nat64,description:e.Text})],[e.Variant({Ok:e.Record({id:e.Text,categoryId:e.Text,status:e.Bool,title:e.Text,content:e.Text,authorId:e.Text,date:e.Nat64,createdAt:e.Nat64,authorName:e.Text,description:e.Text,updatedAt:e.Nat64,editorId:e.Text}),Err:e.Variant({NotFound:e.Text,Unauthorized:e.Text,InternalError:e.Text,Forbidden:e.Text,BadRequest:e.Text})})],[]),updateUser:e.Func([e.Record({id:e.Principal,status:e.Bool,name:e.Text,role:e.Text})],[e.Variant({Ok:e.Record({id:e.Principal,status:e.Bool,name:e.Text,createdAt:e.Nat64,role:e.Text,updatedAt:e.Nat64}),Err:e.Variant({NotFound:e.Text,Unauthorized:e.Text,InternalError:e.Text,Forbidden:e.Text,BadRequest:e.Text})})],[])})},c="bkyz2-fmaaa-aaaaa-qaaaq-cai",l=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.agent||new s.i7({...e.agentOptions,host:"https://be2us-64aaa-aaaaa-qaabq-cai.dvcode.tech/"});return e.agent&&e.agentOptions,s.vt.createActor(u,{agent:a,canisterId:t,...e.actorOptions})};c&&l(c);var x={project:"icp",setting:[{api_url:"https://example.com/api",imgur:"76b444f991f4a86"},{api_url:"https://example.com/api",imgur:"76b444f991f4a86"}][Number("0")||0],internetIdentityUrl:"https://be2us-64aaa-aaaaa-qaabq-cai.dvcode.tech/",canisterId:"bkyz2-fmaaa-aaaaa-qaaaq-cai"},T=a(7147),p=function(t,e){let[a,r]=(0,d.useState)(()=>{try{let a=window.localStorage.getItem(t);return a?JSON.parse(a):e}catch(t){return e}});return[a,e=>{try{let o=e instanceof Function?e(a):e;r(o),window.localStorage.setItem(t,JSON.stringify(o))}catch(t){}}]};(r=o||(o={})).AUTHOR="author",r.EDITOR="editor",r.ADMIN="admin";let f=(0,d.createContext)({}),h=()=>(0,d.useContext)(f);function m(t){let{children:e}=t,[a,r]=(0,d.useState)(null),[o,u]=(0,d.useState)(null),[c,h]=(0,d.useState)(null),[m,g]=(0,d.useState)(null),[N,v]=(0,d.useState)(!1),[b,y]=(0,d.useState)(!1),[I,A]=(0,d.useState)(!1),[E,k]=p("updateArticle",null),F=async()=>{o&&await o.initOwner()},O=async()=>{let t=new s.i7({host:"https://be2us-64aaa-aaaaa-qaabq-cai.dvcode.tech/",verifyQuerySignatures:!1});u(l(x.canisterId,{agent:t}))},R=async()=>{let t=await i.LY.create();await t.login({identityProvider:"https://be2us-64aaa-aaaaa-qaabq-cai.dvcode.tech/",onSuccess:async()=>{let e=t.getIdentity(),a=new s.i7({host:"https://be2us-64aaa-aaaaa-qaabq-cai.dvcode.tech/",identity:e,verifyQuerySignatures:!1}),o=l(x.canisterId,{agent:a});h(a),u(o),r(e)}})};return(0,d.useEffect)(()=>{null!=a&&(async()=>{if(o){let t=await o.getMe();t.Err&&(console.error("getMe: ",t.Err),g((await o.createUser(a.getPrincipal().toText())).Ok))}})()},[o,a]),(0,d.useEffect)(()=>{a&&(async()=>{var t;v((null==a?void 0:null===(t=a.getPrincipal())||void 0===t?void 0:t.toText())==="gekdn-puzkx-m77h6-qfn7f-ap4hk-fqm3n-ggxvm-lu22i-gbtfh-2idqp-yae");let e=await o.getMe();if(e.Ok){g(e.Ok);let{role:t}=e.Ok;"author"===t?y(!0):"editor"===t?A(!0):(y(!1),A(!1),(0,T.Am)({title:"Unauthorized Access",description:"You are not authorized to access this page.",variant:"destructive"}))}})()},[a]),(0,d.useEffect)(()=>{O()},[]),(0,n.jsx)(f.Provider,{value:[{identity:a,actor:o,agent:c,user:m,isAdmin:N,isEditor:I,isAuthor:b,updateArticle:E},{setIdentity:r,setActor:u,setAgent:h,setUser:g,login:R,setIsAdmin:v,setIsAuthor:y,setIsEditor:A,initOwner:F,toast:T.Am,setUpdateArticle:k}],children:e})}},9174:function(t,e,a){"use strict";a.r(e);var r=a(4930);let o=a.n(r)()(()=>a.e(771).then(a.bind(a,5771)).then(t=>t.ParallaxProvider),{loadableGenerated:{webpack:()=>[5771]},ssr:!1});e.default=o},1359:function(){}},function(t){t.O(0,[591,971,938,744],function(){return t(t.s=1428)}),_N_E=t.O()}]);